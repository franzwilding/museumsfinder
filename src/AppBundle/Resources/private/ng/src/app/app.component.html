<div [class]="getClasses()">
  <header>
    <button class="small" (click)="end()" *ngIf="data.started">
      <svg width="12px" height="12px" viewBox="0 0 59 59" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g transform="translate(-3183.000000, -133.000000)" fill="currentColor">
            <polygon points="3241.20312 139.257812 3217.96094 162.5 3241.20312 185.742188 3235.34375 191.601562 3212.10156 168.359375 3188.85938 191.601562 3183 185.742188 3206.24219 162.5 3183 139.257812 3188.85938 133.398438 3212.10156 156.640625 3235.34375 133.398438"></polygon>
          </g>
        </g>
      </svg>
    </button>
    <svg class="logo" width="104px" height="102px" viewBox="0 0 104 102" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g transform="translate(-1261.000000, -176.000000)" fill="currentColor">
        <g transform="translate(1259.000000, 174.000000)">
          <rect x="9" y="100.985507" width="90" height="3.01449275"></rect>
          <g>
            <rect opacity="0.5" x="15" y="60.2898551" width="7.5" height="34.6666667"></rect>
            <rect opacity="0.75" x="33" y="48.2318841" width="7.5" height="47.2270531"></rect>
            <rect x="51" y="39.1884058" width="7.5" height="56.9103777"></rect>
            <rect opacity="0.75" x="69" y="45.2173913" width="7.5" height="50.2415459"></rect>
            <rect opacity="0.5" x="87" y="63.3043478" width="7.5" height="31.6521739"></rect>
            <path d="M100.493467,56.5712702 C101.664379,57.7478392 103.561667,57.7489808 104.73269,56.5723009 L104.91391,56.3902055 C106.084256,55.2142057 106.090014,53.313319 104.921325,52.1389849 L56.1116833,3.09354749 C54.9454328,1.92166297 53.0570049,1.91921347 51.8883167,3.09354749 L3.07867467,52.1389849 C1.91242421,53.3108695 1.91506732,55.2135255 3.08609011,56.3902055 L3.2673101,56.5723009 C4.43765599,57.7483006 6.33568609,57.7477736 7.50653321,56.5712702 L51.8798756,11.9835639 C53.050788,10.8069949 54.9492773,10.8070605 56.1201244,11.9835639 L100.493467,56.5712702 Z"></path>
          </g>
        </g>
      </g>
    </svg>
    <h1>Museen & Sammlungen in Wien</h1>
    <button class="small" (click)="restart()" *ngIf="data.started && data.currentQuestion > data.countQuestions">
      <svg width="12px" height="12px" viewBox="0 0 69 69" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g transform="translate(-2936.000000, -128.000000)" fill="currentColor">
            <path d="M2970.375,188.28125 C2975.84378,188.28125 2980.75909,186.783869 2985.12109,183.789062 C2989.48309,180.794256 2992.57551,176.822941 2994.39844,171.875 L3003.38281,171.875 C3001.29947,179.166703 2997.2305,185.156227 2991.17578,189.84375 C2985.12106,194.531273 2978.18754,196.875 2970.375,196.875 C2960.86974,196.875 2952.76436,193.522169 2946.05859,186.816406 C2939.35283,180.110644 2936,172.005256 2936,162.5 C2936,152.994744 2939.35283,144.889356 2946.05859,138.183594 C2952.76436,131.477831 2960.86974,128.125 2970.375,128.125 C2979.75005,128.125 2987.82288,131.510383 2994.59375,138.28125 L3004.75,128.125 L3004.75,158.203125 L2974.67188,158.203125 L2988.34375,144.53125 C2983.39581,139.322891 2977.40629,136.71875 2970.375,136.71875 C2963.21351,136.71875 2957.12633,139.225235 2952.11328,144.238281 C2947.10024,149.251327 2944.59375,155.338506 2944.59375,162.5 C2944.59375,169.661494 2947.10024,175.748673 2952.11328,180.761719 C2957.12633,185.774765 2963.21351,188.28125 2970.375,188.28125 Z" id="ion-android-refresh---Ionicons" transform="translate(2970.375000, 162.500000) scale(-1, 1) translate(-2970.375000, -162.500000) "></path>
          </g>
        </g>
      </svg>
    </button>
  </header>

  <section class="intro" *ngIf="!data.started">
    <button class="large" (click)="start();">Suche starten</button>
    <p>Beantworte Fragen und finde das richtige Museum für einen Ausflug.</p>
  </section>

  <section class="questions" *ngIf="data.started">
    <div class="placeholder" [style.margin-left]="getQuestionsOffset()"></div>
    <question-1></question-1>
    <question-2></question-2>
    <question-3></question-3>
    <question-4></question-4>
    <question-5></question-5>
    <results></results>
    <paginator *ngIf="data.currentQuestion <= data.countQuestions"></paginator>
  </section>


  <footer>
    <article>
      <h2 id="about">
        <a href="#about">
          Über das Projekt
          <br />
          <svg width="13px" height="9px" viewBox="0 0 13 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g transform="translate(-1870.000000, -1337.000000)" fill="currentColor">
              <polygon points="1881.75781 1337.75 1882.5 1338.57031 1876.25 1345.25 1870 1338.57031 1870.74219 1337.75 1876.25 1343.60938"></polygon>
            </g>
          </svg>
        </a>
      </h2>

      <div class="text-content">
        <p>Der Museumsfinder ist eine Anwendung, die im Zuge der Lehrveranstaltung „From Design To Software 2“ an der TU Wien entstanden ist. Ziel ist eine konkrete Implementierung einer Guided Decision Lösung für das finden eines Passenden Museums anhand von bestimmten Kriterien in Wien. Die Implementierung erfolgt auf Grundlage einer Recherche und der anschließenden Analyse bestehender Guided Selling / Guided Decision Lösungen.</p>
        <p>Das Projekt versucht bestehende Lösungen durch neue Technische Ansätze aus dem Bereich Machine Learning zu erweitern. Dafür wird einerseits ein intelligentes Text-Matching Modul eingesetzt, um die Eingabe eines Beschreibungstextes analysieren zu können, andererseits wird ein Learn-To-Rank Modell implementiert mit dessen Hilfe die Anwendung mit jeder getätigten Suche intelligenter wird.</p>

        <h3>Technologien</h3>

        <ul>
          <li><strong>Basissystem:</strong> <span class="light">PHP Framework Symfony 3</span></li>
          <li><strong>Frontend:</strong> <span class="light">Angular 4, HTML, SASS</span></li>
          <li><strong>Suchserver:</strong> <span class="light">Elastic Search 5.4</span></li>
          <li><strong>Learn-To-Rank Bibliothek:</strong> <span class="light">ranklib</span></li>
          <li><strong>Elastic Search & Learn-To-Rank Integration:</strong> <span class="light">o19s/elasticsearch-learning-to-rank</span></li>
        </ul>

        <h3>Beschaffung, Analyse und Erweiterung des Datensatzes</h3>
        <p>Das Projekt basiert auf der OpenData Liste aller Museen in Wien. Diese Resource stellt den Ausgangspunkt der Datenbank dar. Per Hand wurden die Museen für eine grobe Filterung in Kategorien unterteilt. Wenn bei einem Museum in der OpenData Liste ein Link zur Website hinterlegt ist, dann wird der Text-Inhalt der Website heruntergeladen und für weitere Analysen aufbereitet.</p>
        <p>Für das herunterladen der OpenData Liste sowie aller Museums-Websites wurde eine Command Line Interface Anwendung geschrieben. Da das Herunterladen und Analysieren aller Daten länger dauert, erfolgt dieser Schritt in einem Batch-Vorgang. Die Implementierung wurde so gewählt, dass die Anwendung leicht mittels Cronjob auf einem Webserver kontinuierlich ausgeführt werden kann.</p>
        <p>Nachdem die Daten heruntergeladen und für die weitere Verarbeitung aufbereitet sind, werden sie in den ElasticSearch Suchserver eingespielt. In diesem Schritt erfolgt auch die Analyse der Texte, auf dessen Basis später die Suche aufbaut.</p>

        <h3>Die Guided Decision Komponente</h3>

        <p>Herzstück der Anwendung ist Guided Decision Komponente Komponente, mit dessen Hilfe innerhalb von wenigen Schritten das passende Museum gefunden werden kann.</p>

        <ul>
          <li><strong>Schritt 1: Auswahl der Hauptkategorie</strong><br /><span class="light">In Schritt 1 können die Hauptkategorien (z.b. „Kunst & Literatur“ oder „Handwerk“) gewählt werden. Diese Auswahl wird in der Suche mit den per Hand zugewiesenen Kategorien verglichen und schränkt das Ergebnis so ein, dass nur Museen angezeigt werden, die in die ausgewählten Kategorien passen.</span></li>
          <li><strong>Schritt 2: Auswahl der in Frage kommenden Bezirke</strong> <span class="light">In diesem Schritt kann die Auswahl der Museen anhand von geographischen Kriterien eingeschränkt werden. Da die Adresse der Museen in der OpenData Liste bereits verfügbar ist, ist für die Datenaufbereitung hier kein weiterer Schritt notwendig. Für eine einfache und intuitive Auswahl wurde eine SVG-Karte von Wien genommen und die Bezirke klickbar gemacht.</span></li>
          <li><strong>Schritt 3: Auswahl von Merkmalen</strong><br /><span class="light">In Schritt 3 können mehrere Merkmale ausgewählt werden. Jedem Museum werden Merkmale anhand der Analyse der zugeordneten Website zugewiesen. Dabei wurden für eine erste, einfache Implementierung nur drei Merkmale zugewiesen. Die Zuweisung der Merkmale erfolgt je nachdem, ob das Merkmale oder dessen Synonyme auf der Website vorkommen. Da aber nicht alle Museen Websites haben und weil die Zuweisung der Merkmale nicht fehlerfrei ist, wurde dieses Suchkriterium negativ gewichtet und hat daher einen geringeren Einfluss auf das Ergebnis wie die anderen Kriterien.</span></li>
          <li><strong>Schritt 4: Auswahl der Bekanntheit des Museums</strong><br /><span class="light">In diesem Schritt können User_innen auswählen wie speziell oder wie bekannt das Museum sein soll. Die Auswahl erfolgt mit Hilfe eines Schiebereglers, der sowohl auf Touch Devices als auch mit einer Maus gut bedient werden kann.</span></li>
          <li><strong>Schritt 5: Eingabe eines kurzen Beschreibungstextes</strong><br /><span class="light">Im letzten Suchschritt kann noch ein kurzer Beschreibungstext eingegeben werden. Dieser wird als Suchtext mit dem Text der Website verglichen und ein Ähnlichkeitswert anhand von übereinstimmenden Phrasen und Wörtern bestimmt. Mit dem Beschreibungstext können so zum Beispiel Themenschwerpunkte oder aktuelle Ausstellungen in Museen gefunden werden, die auf der Website des Museums beschrieben sind.</span></li>
          <li><strong>Ergebnis</strong><br /><span class="light">Die gesammelten Suchkriterien werden im letzten Schritt an den Suchserver übermittelt und die besten 20 Treffer angezeigt. Jedes Museum wird mit Name, Adresse Treffer-Quote in Prozent sowie der zugewiesenen Website (wenn vorhandne) angegeben. Darüber hinaus wird der_die User_in um ein kurzes Feedback in Form einer Auswahl von 1-5 Sternen gebeten, um zu beurteilen wie gut dieses gefundene Museum in die Suche passt. Dieses Feedback, gemeinsam mit den zuvor festgelegten Suchparametern ist die Basis für den selbstlernenden Algorithmus und werden gespeichert und später als Trainingsdaten für den Learn-To-Rank Algorithmus verwendet.</span></li>
        </ul>

        <h3>Learn-To-Rank Algorithmus</h3>
        <p>XXX</p>

        <h3>Weitere Schritte</h3>
        <p>Damit dieses Projekt nicht noch komplexer wird wurde auf die genaue Analyse der Website für die Zuweisung der Merkmale sowie eine größere Auswahl an Merkmalen verzichtet. Die Analyse der Website könnte zum Beispiel noch den HTML- & CSS-Code der Website analysieren um herauszufinden, welche Texte wichtiger sind als andere.</p>
        <p>Auch die Analyse und der Vergleich des eingegebene Suchtextes könnte mit Hilfe eines NLP (natural language processing) Modul genauer analysiert werden um auch die Bedeutung des Textes mit der Bedeutung der Website vergleichen zu können. Dieser Schritt würde aber ein eigenes großes Projekt darstellen.</p>
        <p>Im Zuge des Projektes wurden nur wenige Feedback-Vektoren für das Training des LTR-Modells verwendet. Auch wenn bereits damit gute Ergebnisse erzielt werden konnten, könnte ein Folgeprojekt der Einsatz und die Analyse der Daten in der Praxis sein.</p>


      </div>
    </article>
  </footer>
</div>